<div class="flexcol action flex-size-1">
  {{!-- Checks --}}
  <div>
    {{> "systems/bunkers-and-badasses/templates/actor/parts/item-list-components/item-list.html"
      items=guns
      itemType="gun"
      
      categoryType="guns"
      headerText="Guns"
      createItemText="Gun"

      allowCreate=true
      allowDelete=true
      equippable=true
      hasRarity=true
      hasPrefix=true
      showSubtype=true
      showNameOnThirdLine=true
    }}
    {{> "systems/bunkers-and-badasses/templates/actor/parts/item-list-components/item-list.html"
      items=shields
      itemType="shield"
      
      categoryType="shields"
      headerText="Shield Mods"
      createItemText="Shield"

      allowCreate=true
      allowDelete=true
      equippable=true
      hasRarity=true
    }}
    {{> "systems/bunkers-and-badasses/templates/actor/parts/item-list-components/item-list.html"
      items=grenades
      itemType="grenade"
      
      categoryType="grenades"
      headerText="Grenade Mods"
      createItemText="Grenade"

      allowCreate=true
      allowDelete=true
      equippable=true
      hasRarity=true
    }}
    {{> "systems/bunkers-and-badasses/templates/actor/parts/item-list-components/item-list.html"
      items=relics
      itemType="relic"
      
      categoryType="relics"
      headerText="Relic"
      createItemText="Relic"

      allowCreate=true
      allowDelete=true
      equippable=true
      showClass=true
      hasRarity=true
      showNameOnThirdLine=true
    }}
    {{> "systems/bunkers-and-badasses/templates/actor/parts/item-list-components/item-list.html"
      items=potions
      itemType="potion"
      
      categoryType="potions"
      headerText="Potions"
      createItemText="Potion"

      allowCreate=true
      allowDelete=true
      showItemCount=true
      hasRarity=true
    }}
    {{> "systems/bunkers-and-badasses/templates/actor/parts/item-list-components/item-list.html"
      items=keyItems
      itemType="key item"
      
      categoryType="keyItems"
      headerText="Key Items"
      createItemText="Item"

      allowCreate=true
      allowDelete=true
      equippable=true
      hasRarity=true
    }}
    {{> "systems/bunkers-and-badasses/templates/actor/parts/item-list-components/item-list.html"
      items=archetypeFeats
      itemType="Archetype Feat"
      
      categoryType="archetypeFeats"
      headerText="Archetype Feats"
      createItemText="Add Feat"

      allowCreate=true
      allowDelete=true
    }}
    {{> "systems/bunkers-and-badasses/templates/actor/parts/item-list-components/item-list.html"
      items=actionSkills
      itemType="action skill"

      categoryType="actionSkills"
      headerText="Action Skill"
      createItemText=""

      allowCreate=false
      allowDelete=false
      showBonusUses=true
    }}
    {{#each skilltree as |skills tier|}}
    {{> "systems/bunkers-and-badasses/templates/actor/parts/item-list-components/item-list.html"
      items=skills
      itemType="skill"

      isCollapsed=../isCollapsed
      
      categoryType=(concat "tier" tier "Skills")
      headerText=(concat "Tier " tier " Skills")
      createItemText=(concat "Add Tier " tier)

      allowCreate=true
      allowDelete=true
      hasSkillLevel=true
      tier=tier
    }}
    {{/each}}


  </div>
  <div class="flexrow">
    <div class="flex-size-5 flexcol">
      {{> "systems/bunkers-and-badasses/templates/actor/parts/vh/action-components/checks-block.html" }}
    </div>
  </div>
  
  {{!-- HP/Attack/Action Skill --}}
  <div class="flexrow">
    <div class="flexcol">
      {{!-- Badass Region --}}
      <div class="flexcol badass-container">
        <div class="flexrow badass-entity-container">
          <div class="flexrow badass-container-inner-left">
            <label><i class="fas fa-skull"></i>&nbsp;Badass&nbsp;Rank</label>
            <input class="" value="{{system.attributes.badass.rank}}"
              type="number" data-dtype="Number"
              disabled />
          </div>
          <div class="flexrow badass-container-inner-right">
            <label>Badass&nbsp;Tokens</label>
            <input class="" name="system.attributes.badass.tokens" value="{{system.attributes.badass.tokens}}"
              type="number" data-dtype="Number" />
          </div>
        </div>
        <div class="flexrow badass-entity-container">
          <button class="btn btn-primary btn-badass-roll rollable" data-roll-type="badass-move"><i class="fa fa-dice-d20"></i> Badass Roll</button>
          <div class="flexcol badass-check">
            <label>Badass?</label>
            <a class="checkbox" title="Become Badass?" data-target="system.attributes.badass.rollsEnabled" data-item-target="system.equipped">
              {{#if system.attributes.badass.rollsEnabled}}<i class="far fa-check-square"></i>{{else}}<i class="far fa-square"></i></a>{{/if}}
            </a>
          </div>
        </div>
      </div>
      {{!-- Action Skill Region --}}
      <div class="action-skill-container">
        <div class="flexrow as-btn-inner-container action-skill">
          <div></div>
          <div class="flex-size-3">
            <button class="btn btn-primary action-skill-button action-skill-use" data-item-id="{{actionSkillId}}">
              <label>{{actionSkillName}}</label>
            </button>
          </div>
          <div class="flexcol flex-size-2 uses-container cc2">
            <div class="flexrow">
              {{> "systems/bunkers-and-badasses/templates/general/divided-input.html"
                id="action-skill"
                targetObj=actionSkillUses targetText="system.class.actionSkill.uses"
                leftDisable=false 
                rightValueOverride=(adder system.bonus.class.actionSkill.uses.max actionSkillUses.max)
                rightDisable=true
              }}
            </div>
            <label class="check-num-label">uses</label>
          </div>
        </div>
      </div>
      {{!-- Bone/Health/Armor/Shield/Eridian Region --}}
      <div class="flexcol healths-container">
        {{#each hps as |hpVal key|}}
        {{> "systems/bunkers-and-badasses/templates/actor/parts/vh/action-components/hp-display-block.html" 
          hp=hpVal
          key=key
          showRegen=true
          disableMax=true
        }}
        {{/each}}
        <div class="flexrow damage-buttons">
          <button class="btn btn-primary take-damage"><i class="fa-solid fa-burst"></i> Take Damage</button>
        </div>
      </div>
    </div>
    {{!-- Attack region --}}
    <div class="flexcol" style="max-width: 50%">
      
      {{!-- Attack Region --}}
      <div class="flexrow attack-as-shared-container">
        <div class="flexrow flex-size-1 attack-header-outer-container">
          <div class="flexrow attack-header-container">
            <div class="attack-header-inner-container">
              <label class="">Attacks!</label>
            </div>
          </div>
        </div>

        <div class="flexrow flex-size-4 as-btn-outer-container">
          <!-- Placeholder -->
          <div>
            {{> "systems/bunkers-and-badasses/templates/actor/parts/vh/action-components/check.html"
              displayName="Melee"
              checkName="Melee"
              check=system.checks.melee
              isBadass=system.attributes.badass.rollsEnabled
              nonRolled=true
              hideStat=true
            }}
          </div>
          <div>
            {{> "systems/bunkers-and-badasses/templates/actor/parts/vh/action-components/check.html"
              displayName="Shoot"
              checkName="Shooting"
              check=system.checks.shooting
              isBadass=system.attributes.badass.rollsEnabled
              nonRolled=true
              hideStat=true
            }}
          </div>
          <div>
            {{> "systems/bunkers-and-badasses/templates/actor/parts/vh/action-components/check.html"
              displayName="Throw"
              checkName="Throw"
              check=system.checks.throw
              isBadass=system.attributes.badass.rollsEnabled
              nonRolled=true
              hideStat=true
            }}
          </div>
            
        </div>
      </div>
      {{> "systems/bunkers-and-badasses/templates/actor/parts/vh/action-components/attacks-block-component.html" }}
    </div>
  </div>


  
</div>